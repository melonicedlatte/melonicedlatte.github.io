---
layout : article
title: 허브, 라우터, 공유기, 스위치의 개념과 차이점
aside:
  toc: true
tags: MachineLearning
category : MachineLearning
author: melonicedlatte
published : True
key : 2019-12-21-154500
mathjax: true
---

봐도봐도 모르겠고, 알다가도 모르겠는 허브, 라우터, 공유기, 스위치의 개념에 대해서 정리해보았습니다. 

## 허브(Hub)
허브는 여러 대의 컴퓨터를 연결해서 네트워크를 만들어주는 장치로서, `데이터 패킷을 받으면 연결된 모든 장치들에게 모두 보냅니다.` 모든 장치들이 데이터 패킷을 받고 자신에게 온 데이터 패킷인지 확인하고 필요하면 취득합니다. 즉, **단순 분배를 하는 중계 장치**입니다. 

허브는 위와 같이 모든 연결된 장치들에게 패킷을 뿌리기 때문에, 자신이 가지고 있는 **데이터 전송 대역을 분리해서 사용해야 됩니다**. 예를 들어, 원래 허브의 데이터 전송속도가 500Mbps라고 하면, 장치 5대가 연결되어 있는 경우 대역폭은 100Mbps로 나눠지게 됩니다.

허브는 IP 할당 기능은 따로 있지 않고, 리피터[^1]와 멀티포트[^2]의 역할을 합니다. 

## 스위치(Switch)
스위치는 연결된 장치들의 IP와 MAC 주소를 모두 테이블 형태로 가지고, `원하는 목적지에 데이터 패킷을 전송하는 장치`입니다. 허브와 달리 스위치는 무작정 데이터 패킷을 뿌리는 것이 아니라, IP와 MAC 주소를 기반으로 필요한 장치에게만 데이터 패킷을 전송해줍니다. 

가령, **87.90.40.2:5000** 라는 IP와 Port로 요청이 들어왔다고 가정해보겠습니다. 이 경우 스위치는 해당 요청을 받아서, 테이블에서 요청된 IP와 Port에 해당하는 MAC 주소를 찾고, 해당 MAC 주소를 가진 장치에게 데이터 패킷을 전송해줍니다. 만약, IP주소와 Port에 일치하는 MAC 주소가 테이블에 존재하지 않는 경우에는, 허브처럼 모든 장치들에게 다 데이터 패킷을 뿌려서(포워딩해서) 테이블을 갱신합니다. 

허브에서 언급한 예제와 동일한 데이터 전송속도를 스위치가 가지고 있다고 하면, 장치가 5대가 연결되어 있다고 하더라도 하나의 장치에 데이터를 전송하기 때문에 대역폭이 500Mbps로 유지됩니다. 

## 라우터(Router)
라우터는 **LAN(Local Area Network:근거리 통신망)을 연결해 주는 장치**로써, 데이터를 전송할 때 `최종 목적지에 가기 위하여 거쳐야하는 많은 경로들 중에 적절한 통신 경로를 결정하기 위하여 한 통신망에서 다른 통신망으로 데이터 패킷을 전송하는 장치`입니다. 

주로 Web에서 우리가 서비스를 사용하기 위해서는 **구글**, **네이버**과 같은 서비스 제공자의 주소에 접속을 필요로 합니다. 이런 경우에 서버가 내 IP와는 다른 IP를 가지고 있는 경우가 많습니다. 이런 경우 먼저 우리가 흔히 알고 있는 'www.naver.com'와 같은 도메인을 통하여 접속을 하면, 도메인 서버를 통하여 IP를 얻을 수 있습니다. 이 IP를 이용하여 요청을 보내면, 라우터에서는 **'다음은 여기 라우터로 가야됩니다!'** 라고 판단하고 데이터 패킷을 다른 라우터에게 전송해줍니다. 이런 과정을 여러번 진행하면서 수많은 라우터들을 거치고, 최종 목적지인 **네이버**로 도착하게 되는 것입니다.

위의 에제에서는 Web에서 비유했는데, 전화망에서도 라우터를 사용합니다. 전화망의 전화번호가 Web에서의 IP와 같은 번호라고 생각하면 될 것 같습니다. 많은 장치들을 한 번에 라우터에 연결할 수 없기 때문에, 라우터로 연결하기 전에 장치들을 **백본 스위치**에 연결하고 나서, **백본 스위치**의 선을 라우터에 연결한다고 합니다. 

## 공유기
ISP(Internet Service Provider)[^3] 업체에서는 IP를 제공하고, 소비자는 해당 IP를 구매해서 사용할 수 있습니다. 집이나 회사에서 해당 IP를 통하여 여러 장치들을 사용하고 싶을 경우가 있습니다. 이런 경우에 `공유기를 사용하여 여러 노트북과 컴퓨터와 같은 다양한 장치들을 인터넷에 연결`할 수 있습니다. 

ISP에서 제공해주는 IP는 외부 IP라고 하고, 공유기를 통해서 내부의 컴퓨터들이 사용할 수 있는 IP는 내부 IP라고 합니다. 192.168.0.xxx 와 같은 형태를 띄고 있는 경우가 많습니다. 여담이지만 이전에 **서든어택**을 하기 위해서는 함께 게임을 하기 위해서는 외부 IP를 가져야 하는 경우가 많았는데, 이런 경우에 한 공유기를 사용하는 경우에는 **같은 방에서 서든 어택을 할 수 없었습니다.** 

## 인터넷, LAN, MAN, WAN
인터넷(Internet)은 Inter-networking(인터넷들의 연결)의 약자로, 쉽게 표현하면 `라우터들의 모임`입니다. 여러가지의 LAN이 얽히고 섥혀서 만들어진 거대한 네트워크가 바로 인터넷이고 이를 WAN(Wide Area Network)이라고 합니다.

- **LAN(Local Area Network)** : `근거리 통신망`. 집, 회사 정도의 규모
- **MAN(Metropolitan Area Network)** : `도시 지역 통신망`. 도시 하나 정도의 규모
- **WAN(Wide Area Network)** : `광역 통신망`. MAN이 모여서 만들어짐.

---
[^1] : 리피터(Repeater) : 전송 거리가 짧아서 신호가 도달하지 못하는 경우에 설치하여 신호전달을 용이하게 합니다.
[^2] : 멀티포트(Multi-Port) : 공유기의 포트가 모자란 경우 설치하여 포트를 늘리는 것
[^3] : ISP(Internet Service Provider) : 인터넷 서비스 제공자는 인터넷에 접속하는 수단을 제공하는 주체

**출처**

- https://minwan1.github.io/2018/10/01/2018-09-03-network-network-divice/
- http://blog.daum.net/hmjnara/3
- https://ykarma1996.tistory.com/13
- https://ko.wikipedia.org/wiki/인터넷_서비스_제공자

---
layout : article
title: "블루투스 모듈 HC-06을 사용하여 원격으로 전등 ON/OFF 하기 "
aside:
  toc: true
tags: Embedded
category : Embedded
author: melonicedlatte
published : True
hellogohn_num : 9
key : 2016-07-15-151304
--- 

<p style="color: rgb(51, 51, 51);"><a href="http://melonicedlatte.com/post_one7">http://melonicedlatte.com/post_one7</a><br><a href="http://melonicedlatte.com/post_one7"></a></p><p style="color: rgb(51, 51, 51);">램프를 제작하여 Serial 로 제어하는 걸 한 글을 링크해놨습니다.</p><p style="color: rgb(51, 51, 51);">블루투스 모듈 HC-06을 이용하여 블루투스 통신을 하고, 그를 통해 램프를 제어 해 보겠습니다.</p><p style="color: rgb(51, 51, 51);">아주 간단한 예제입니다. 이 예제를 이용하면 더 복잡한 것도 쉽게 해결 가능 하겠죠??<br><br><br><img src="/system/uploads/images/000/000/313/original/image.png?1507545965" style="width: 361px;"><br><br></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);">이게&nbsp;<span style="background-color: rgb(255, 231, 156);">HC-06 모듈</span>입니다. (출처 :&nbsp;<a href="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTBIvY4q6FcEXyi8mu12qJPnUl7SoJ87uYeYzbxsDOJExCOEdkx)">https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTBIvY4q6FcEXyi8mu12qJPnUl7SoJ87uYeYzbxsDOJExCOEdkx)</a>&nbsp;</p><p style="color: rgb(51, 51, 51);">HC-06 모듈 같은 경우는 가격대는 온라인 기준 5300원 정도로 이루어 진 것 같아요&nbsp;</p><p style="color: rgb(51, 51, 51);">esp8266 을 T 아카데미에서 사용했을 때, 개당 3천원 대라고 했는데, 용산전자상가에 가서 가격을 살펴보니까 개당 9천원에 팔더라구요.&nbsp;</p><p style="color: rgb(51, 51, 51);">온라인이랑 오프라인 가격이 차이가 좀 나니까 (물론 제품별로 오프라인이 더 싼것도 있고 가격이 비슷한 것도 있겠죠??) 잘 알아보고 사는게 좋을 것 같아요.</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/314/original/image.png?1507545978" style="width: 637px;"><br></p><p style="color: rgb(51, 51, 51);">아두이노에 연결하는 모양은 이렇게 생겼습니다.</p><p style="color: rgb(51, 51, 51);">HC-06 같은 경우에는 어디가 GND 인지 VCC 인지 다 표기가 되어있어서 편리합니다.</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">HC-06 TXD &nbsp;는 아두이노의 0번포트 RX 에 연결해줍니다.</p><p style="color: rgb(51, 51, 51);">HC-06 RXD &nbsp;는 아두이노의 1번포트 TX 에 연결해줍니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">여기서&nbsp;<span style="background-color: rgb(255, 231, 156);">RX 와 TX 가 무엇인</span>가?????&nbsp;</p><p style="color: rgb(51, 51, 51);">=&gt;&nbsp;<span style="background-color: rgb(255, 231, 156);">RX 는 수신, TX는 전송</span>이라고 생각하면 편하다. 서로 송수신 하기 위해서는 서로의 단자를 크로스 해서 RX+TX 의 조합으로 연결해야한다.</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">그런데 저렇게 연결을 안하고 usb만 연결해도 아두이노는 sketch를 이용해서 Serial 로 제어가 가능했다.&nbsp;</p><p style="color: rgb(51, 51, 51);">갑자기 의문이 생긴다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><span style="background-color: rgb(255, 231, 156);">언제 RX, TX 포트가 쓰이는 걸까??</span></p><p style="color: rgb(51, 51, 51);">Serial 은 아두이노의 가장기본이 되는 통신으로 두 기기간의 1:1 통신이라고 보면 된다.</p><p style="color: rgb(51, 51, 51);">아두이노&nbsp;<span style="background-color: rgb(255, 231, 156);">UNO 같은 경우</span>에는 USB 케이블로 PC 와 연결하기만 하면&nbsp;<span style="background-color: rgb(255, 231, 156);">Serial 통신을 기본</span>으로 사용할 수 있지만,&nbsp;<span style="background-color: rgb(206, 231, 247);">Pro mini</span>&nbsp;같은 경우는 USB to UART 같은&nbsp;<span style="background-color: rgb(206, 231, 247);">변환 모듈을 구입</span>해서 연결을 해 주어야 한다고 합니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">또&nbsp;<span style="background-color: rgb(247, 198, 206);">아두이노와 아두이노</span>의 Serial 연결에는 별도의 변환 칩이 필요하지 않고 ,&nbsp;<font style="background-color: rgb(247, 198, 206);">TX-RX 크로스</font>를 해서 통신이 가능하다고 합니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">정확히는 모르겠지만 몇 글을 읽어보니 usb 를 꽂아서 지원이 되는 경우라면 모르겠지만 기본적으로<span style="background-color: rgb(255, 198, 156);">정보교환을 위해서는 (1:1 통신을 위해서는)</span>&nbsp;필요하다.&nbsp;</p><p style="color: rgb(51, 51, 51);">라고 볼 수 있을 것 같습니다.</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">HC-06 같은 경우에도 지금 통신은 비록 단말기와 하지만,&nbsp;<span style="background-color: rgb(255, 198, 156);">그 통신한 정보를 아두이노에 전달</span>해 주어야 아두이노가 받아서 컨트롤을 할 수 있습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">그래서 HC-06 은 사실&nbsp;<span style="background-color: rgb(214, 239, 214);">아두이노와의 통신!</span>을 위해서는 반드시 저곳에 꽂아야 하는거죠.</p><p style="color: rgb(51, 51, 51);">아두이노의 다른 핀은 단순히 전력을 컨트롤 해주는 곳이니까요. (맞는지는 잘 모르겠지만)</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">그런데 그러면 다른 핀으로는 아얘 다른 모듈과 통신을 할 수 없느냐????</p><p style="color: rgb(51, 51, 51);">만약 하나의 모듈과 통신이 가능하면 오직 1개의 모듈과만 통신 할 수 있는 거잖아요.</p><p style="color: rgb(51, 51, 51);">꼭 그렇진 않는 것 같더라구요.</p><p style="color: rgb(51, 51, 51);">Software Serial 이라는게 있습니다. &nbsp;필요시 참고하면 좋을 것 같습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">참고 &nbsp;:&nbsp;<a href="http://www.hardcopyworld.com/ngine/aduino/index.php/archives/360">http://www.hardcopyworld.com/ngine/aduino/index.php/archives/360</a></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">꼭 글을 쓰다보면 모르는게 더생기고 시간이 엄청 걸리더라구요.&nbsp;</p><p style="color: rgb(51, 51, 51);">조사해서 쓰느라. 뭐 저도 배우고 다른 사람도 더 알고 서로서로 좋은거겠죠??</p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/315/original/image.png?1507545991" style="width: 403px;"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">예전에 본 것처럼 전등은 이렇게 연결 되어 있구요</p><p style="color: rgb(51, 51, 51);">Serial 제어는 링크 확인해주세요.&nbsp;<a href="http://melonicedlatte.com/post_one7" style="background-color: rgb(255, 255, 255);">http://<a href="http://melonicedlatte.com/post_one7" style="background-color: rgb(255, 255, 255);">hellogohn.com</a>/post_one7</a><br>에서 아래의 앱 SENA 를 다운로드 해야합니다.<br></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/316/original/image.png?1507546000" style="width: 652px;"><br><img src="/system/uploads/images/000/000/317/original/image.png?1507546008" style="width: 354px;"><br><br><br></p><p style="color: rgb(51, 51, 51);">다운받으면 위와 같습니다.</p><p style="color: rgb(51, 51, 51);">메뉴를 클릭해서&nbsp;<span style="background-color: rgb(214, 239, 214);">Blutooth Management&nbsp;</span>를 클릭합니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">아래의 창으로 이동하게 되면&nbsp;<span style="background-color: rgb(214, 239, 214);">connect to</span>&nbsp;를 입력합니다.&nbsp;<br><br><br><img src="/system/uploads/images/000/000/318/original/image.png?1507546020" style="width: 348px;"></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/319/original/image.png?1507546031" style="width: 379px;"></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/320/original/image.png?1507546051" style="width: 372px;"><br></p><p style="color: rgb(51, 51, 51);"><span style="background-color: rgb(214, 239, 214);">Select 버튼을 누릅니다.&nbsp;</span></p><p style="color: rgb(51, 51, 51);">아래의 사진처럼 뜨면&nbsp;<span style="background-color: rgb(214, 239, 214);">Start Scan</span>&nbsp;을 누르고 검색된 HC-06을 클릭해서 &nbsp;연결합니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/321/original/image.png?1507546069" style="width: 366px;"></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">연결되었습니다!!!!!!<br><br><br></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/322/original/image.png?1507546079" style="width: 317px;"><br><br></p><p style="color: rgb(51, 51, 51);">그 다음 아두이노의<span style="background-color: rgb(214, 239, 214);">&nbsp;RESET&nbsp;</span>버튼을 눌러줍니다.</p><p style="color: rgb(51, 51, 51);">그러면 아두이노가 원래 PC와 했던 Serial 통신이 단말기에서 보여지게 됩니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">여기서 1을 입력하면 ?? 전등이 꺼져있으면 켜지고 꺼져있으면 켜집니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"><img src="/system/uploads/images/000/000/323/original/image.png?1507546088" style="width: 346px;"><br></p><p style="color: rgb(51, 51, 51);">이상 포스팅 마칩니다. 감사합니다.&nbsp;</p>
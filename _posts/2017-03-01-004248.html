---
layout : article
title: "python matplotlib를 이용한 서울시 고등학교 현황 데이터 데이터 시각화 "
aside:
  toc: true
tags: DataScience
category : DataScience
author: melonicedlatte
published : True
hellogohn_num : 63
key : 2017-03-01-004248
--- 

<p><a href="http://data.seoul.go.kr/openinf/fileview.jsp?infId=OA-12061">http://data.seoul.go.kr/openinf/fileview.jsp?infId=OA-12061</a><br>위와 같은 경로에서 서울시의 고등학교 데이터를 얻어서 데이터 시각화를 시도해보았습니다.&nbsp;</p><p><br><br><br><img src="/system/uploads/images/000/001/044/original/image.png?1530185567" style="width: 984px;"><br></p><p><img src="/system/uploads/images/000/001/045/original/image.png?1530185574" style="width: 1242px; height: 138px;"><br></p><p><br></p><p><br></p><p>위와 같은 데이터 형태를 가지고 있습니다.&nbsp;<br>주소, 학년별 인원수, 지역, 남녀인원, 공학여부 등등 다양한 정보가 많이 들어있습니다.&nbsp;<br><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">import</span>&nbsp;numpy&nbsp;as&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">import</span>&nbsp;pandas&nbsp;as&nbsp;pd</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">from</span>&nbsp;pandas&nbsp;<span style="color:#a71d5d">import</span>&nbsp;Series,&nbsp;DataFrame</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">data&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;pd.read_excel(<span style="color:#63a35c">'data/seoulHighSchool.xlsx'</span>)</div></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p>위와 같이 데이터를 판다스로 읽어옵니다.&nbsp;</p><p><br></p><p><br><br><img src="/system/uploads/images/000/001/046/original/image.png?1530185586" style="width: 1098px;"><br></p><p><br></p><p>위와 같이 정보를 불러왔습니다.&nbsp;<br>data[0:318] 로 가져온 이유는 아래 쓸모 없는 데이터가 같이 들어와서 잘라서 필요한 부분만 취하기 위해서 했습니다.&nbsp;</p><p><br></p><p><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%">%matplotlib&nbsp;inline</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">def</span>&nbsp;getEachNum(column_name):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;{}&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;each&nbsp;<span style="color:#a71d5d">in</span>&nbsp;<span style="color:#066de2">range</span>(school_data[column_name].size):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;result.get(school_data[column_name][each],&nbsp;<span style="color:#0099cc">0</span>)&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span>:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[school_data[column_name][each]]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">1</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">else</span>&nbsp;:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;result[school_data[column_name][each]]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result[school_data[column_name][each]]&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span>&nbsp;sub_value&nbsp;<span style="color:#0086b3"></span><span style="color:#a71d5d">+</span>&nbsp;<span style="color:#0099cc">1</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">return</span>&nbsp;result</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;"><br></span></a></td></tr></tbody></table></div><p>위와 같이 함수를 짰습니다.<br>getEachNum에 column 이름을 넣으면 그 column 에 있는 정보를 key 에 넣고 갯수를 value 에 넣어서 dictionary 를 만듭니다.&nbsp;</p><p><br></p><p><img src="/system/uploads/images/000/001/047/original/image.png?1530185592" style="width: 344px;"><br></p><p><br></p><p>결과는 위와 같습니다.<br>getEachNum() 에 원하는 column 값을 넣으면 각각의 아웃풋이 나오게 됩니다.&nbsp;<br><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;"><br></span></a></td></tr></tbody></table><div class="colorscripter-code" style="overflow: auto; position: relative !important;"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">def</span>&nbsp;showEachNum(result):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;graphNames&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;[]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;[]&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;key&nbsp;<span style="color:#ff3399">in</span>&nbsp;result.keys():</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graphNames.append(key)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.append(result[key])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;x_range&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;numpy.arange(<span style="color:#0099cc">len</span>(result))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.bar(x_range,&nbsp;values,&nbsp;align&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#993333">'center'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.xticks(x_range,&nbsp;graphNames)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.show()</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div></div><br><p>다음으로는 위에서 얻은 데이터를 가지고 graph 를 그리는 메소드를 제작하였습니다.<br>5줄에서 graphName 들을 list로 만들어주고 값들은 6줄에서 각각 넣어줍니다.&nbsp;<br><br></p><p><br></p><p><img src="/system/uploads/images/000/001/048/original/image.png?1530185599" style="width: 494px;"><br></p><p><br></p><p><br></p><p>결과는 위와 같습니다.&nbsp;<br>서울에는 남여 공학 고등학교가 굉장히 많군요.<br><br></p><p><img src="/system/uploads/images/000/001/049/original/image.png?1530185607" style="width: 453px;"><br></p><p><br></p><p>고등학교 유형은 위와 같이 일반고가 주로 많고 특성화고가 꽤 많은 것 같습니다.&nbsp;<br><br></p><p><img src="/system/uploads/images/000/001/050/original/image.png?1530185613" style="width: 445px;"><br></p><p><br></p><p>소재구를 그래프로 표시하니 상당히 보기가 어렵더라구요.<br>그래서 그래프의 x 축을 y 축과 바꾸고 그래프 크기를 키우는 함수를 만들었습니다.&nbsp;</p><p><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">def</span>&nbsp;showEachNum_X(result):</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;graphNames&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;[]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;values&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;[]&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;key&nbsp;<span style="color:#ff3399">in</span>&nbsp;result.keys():</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graphNames.append(key)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.append(result[key])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;y_range&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;numpy.arange(<span style="color:#0099cc">len</span>(result))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.figure(figsize<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>(<span style="color:#308ce5">10</span>,<span style="color:#308ce5">8</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.barh(&nbsp;y_range,&nbsp;values,&nbsp;align&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#993333">'center'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.yticks(&nbsp;y_range,&nbsp;graphNames)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;plot.show()</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br></p><p><img src="/system/uploads/images/000/001/051/original/image.png?1530185624" style="width: 692px;"><br></p><p><br></p><p>결과는 위와 같습니다. <br>노원구에 가장 고등학교 수가 많고 금천구에 가장 고등학교 수가 적은 것을 확인 할 수 있습니다.&nbsp;<br><br><br></p><p><br></p><p>다음으로는 학생 수와 교원 수의 상관관계를 알아보겠습니다.&nbsp;<br><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%">stuTeaRelation&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;[</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;school_data[<span style="color:#993333">'1학년&nbsp;학생수&nbsp;계'</span>][each]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;school_data[<span style="color:#993333">'2학년&nbsp;학생수&nbsp;계'</span>][each]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;school_data[<span style="color:#993333">'3학년&nbsp;학생수&nbsp;계'</span>][each]&nbsp;,&nbsp;school_data[<span style="color:#993333">'정규&nbsp;교원수&nbsp;계'</span>][each]&nbsp;]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">for</span>&nbsp;each&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff3399">in</span>&nbsp;<span style="color:#0099cc">range</span>(school_data[<span style="color:#993333">'1학년&nbsp;학생수&nbsp;계'</span>].size)</div><div style="padding:0 6px; white-space:pre; line-height:130%">]</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p>위와 같이 list comprehension 을 통해서 학생과 선생님의 수를 [ 1~3학년 까지의 학생수, 선생님의 수 ] 를 하나의 행으로 하는&nbsp;<br>318*2 크기의 matrix 를 제작합니다.&nbsp;</p><p><br></p><p><img src="/system/uploads/images/000/001/052/original/image.png?1530185632" style="width: 217px;"><br></p><p><br></p><p>결과 값은 위와 같습니다 .</p><p><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;numpy&nbsp;as&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">relationData&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;np.array(stuTeaRelation)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.figure(figsize<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>(<span style="color:#308ce5">10</span>,<span style="color:#308ce5">8</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.scatter(relationData[:,&nbsp;<span style="color:#308ce5">0</span>]&nbsp;,&nbsp;relationData[:,&nbsp;<span style="color:#308ce5">1</span>],&nbsp;color<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#993333">'c'</span>,&nbsp;marker<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#993333">'^'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.show()</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br></p><p>이를 위처럼 그래프로 보여주면 ??&nbsp;</p><p><img src="/system/uploads/images/000/001/053/original/image.png?1530185637" style="width: 626px;"><br></p><p><br></p><p>위와 같은 결과가 나옵니다.&nbsp;<br>몇 개의 값을 제외하고는 꽤 규칙적인 것 같습니다.&nbsp;</p><p><br></p><p>위의 그래프에서 선형 회귀 함수를 그려보겠습니다.&nbsp;</p><p><img src="/system/uploads/images/000/001/054/original/image.png?1530185644" style="width: 279px;"><br></p><p>위와 같이<span style="background-color: rgb(255, 231, 156);"> sudo pip3 install statsmodels </span>라는 명령어를 통해서 statsmodels 를 설치해줍니다.</p><p><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;statsmodels.api&nbsp;as&nbsp;sm</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;numpy&nbsp;as&nbsp;np</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">import</span>&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">relationData&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;np.array(stuTeaRelation)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.figure(figsize<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>(<span style="color:#308ce5">10</span>,<span style="color:#308ce5">8</span>))</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.scatter(relationData[:,&nbsp;<span style="color:#308ce5">0</span>]&nbsp;,&nbsp;relationData[:,&nbsp;<span style="color:#308ce5">1</span>],&nbsp;color<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#993333">'c'</span>,&nbsp;marker<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#993333">'^'</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">X&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;relationData[:,&nbsp;<span style="color:#308ce5">0</span>]</div><div style="padding:0 6px; white-space:pre; line-height:130%">Y&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;relationData[:,&nbsp;<span style="color:#308ce5">1</span>]</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">results&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;sm.OLS(Y,sm.add_constant(X)).fit()</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">X_plot&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;np.linspace(min(X),max(X),<span style="color:#308ce5">100</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.plot(X_plot,&nbsp;X_plot<span style="color:#0086b3"></span><span style="color:#ff3399">*</span>results.params[<span style="color:#308ce5">1</span>]&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>&nbsp;results.params[<span style="color:#308ce5">0</span>])</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">plt.show()</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br></p><p>위와 같이 X 와 Y 를 정한 후에 statsmodels 의 OLS 메소드를 사용하여 results 를 구합니다.<br>그리고 그래프를 그려주면<br><br></p><p><img src="/system/uploads/images/000/001/055/original/image.png?1530185656" style="width: 679px;"><br></p><p><br></p><p>위와 같은 결과가 나옵니다.&nbsp;<br>수학적으로 의미있는 분석은 제대로 못해보았지만 다음에는 공부를 좀 더 해서 다른 데이터를 제대로 분석 해 보아야겠습니다.&nbsp;</p>
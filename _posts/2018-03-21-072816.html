---
layout : article
title: "oracle-xe-11g을 docker 를 이용하여 설치 후 이용해보기 "
aside:
  toc: true
tags: Database
category : Database
author: melonicedlatte
published : True
hellogohn_num : 252
key : 2018-03-21-072816
--- 

<p style="color: rgb(51, 51, 51);">저는 개인 서버로 ubuntu를 사용합니다.&nbsp;<br>하지만 ubuntu위에 oracle 서버를 설치하는 것은 매우도 복잡하고 곤욕스런 작업입니다.<br>각종 환경변수를 세팅하는 등 복잡한 과정들이 많이 있으며, 심지어 그렇게 해도 안되더군요...(일단 정지)</p><p style="color: rgb(51, 51, 51);">그래서 docker 를 어렴풋이 알고 있고, 아직 제대로 써본적은 없는데 이번에 써 보기로 했습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/733/original/image.png?1521576129" style="width: 1008.9px; height: 490.913px;"><br></p><p class="unchanged rich-diff-level-one" style="margin-top: 0px; margin-bottom: 16px; color: rgb(51, 51, 51); padding: 0px;"><br><br><br>아래의 명령어를 입력하여 오라클 11g의 이미지를 다운받습니다. (버전은 Express edition 이네요)<br>wnameless/oracle-xe-11g 의 이미지가 가장 인기가 많다고 합니다 .<br><br></p><pre class="unchanged rich-diff-level-one" style="font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13.6px; padding: 10px 14px; margin-bottom: 16px; line-height: 1.45; color: rgb(36, 41, 46); word-wrap: normal; background-color: rgb(246, 248, 250); border-radius: 3px; font-stretch: normal;">docker pull wnameless/oracle-xe-11g</pre><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">설치가 완료되면 아래와 같은 명령어를 입력해줘서 실행해봅니다.&nbsp;<br></p><pre style="font-family: Consolas, sans-serif; font-size: 16px; padding: 12px 14px; line-height: 1.42857; background-color: rgb(255, 255, 255);">docker run -d -p 59160:22 -p 59161:1521 wnameless/oracle-xe-11g</pre><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);">이미지가 설치되어있지 않은 상태에서 run 을 해주면 자동으로 설치합니다.&nbsp;<br>저는 두 번재 명령어만 입력하여 바로 설치 후 실행을 해보았습니다.&nbsp;</div><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/732/original/image.png?1521575903" style="width: 897px;"><br></p><p style="color: rgb(51, 51, 51);"><br><br><br></p><p style="color: rgb(51, 51, 51);">설치가 완료되면 아래의 명령어를 입력하여, 실행되고 있는 이미지를 확인합니다.&nbsp;<br>현재 oracle-xe-11g 가 잘 실행되고 있는 것을 확인할 수 있습니다.&nbsp;<br>59160 포트로 접속하면 된다고 합니다.&nbsp;<br></p><blockquote>docker ps&nbsp;</blockquote><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/734/original/image.png?1521576290" style="width: 1118px;"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">저는 DataGrip 을 이용하여 접속해보았습니다. (동일 컴퓨터에서)<br></p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/735/original/image.png?1521577866" style="width: 1118px;"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">연결이 성공적으로 진행되었습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/736/original/image.png?1521578888" style="width: 1118px;"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">아래와 같은 쿼리를 수행하면 잘 삽입되는 것을 확인했습니다. (Database는 System 이 아니라 다른 것을 사용하는게 좋겠습니다.)</p><pre style="font-family: &quot;DejaVu Sans Mono&quot;; font-size: 11.3pt; line-height: 1.42857; color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><span style="color: rgb(0, 0, 128); font-weight: bold;">CREATE TABLE TEST</span>( <br>    <span style="color: rgb(102, 14, 122); font-weight: bold;">testno </span><span style="color: rgb(0, 0, 128); font-weight: bold;">NUMBER</span>(<span style="color: rgb(0, 0, 255);">5</span>)   <span style="color: rgb(0, 0, 128); font-weight: bold;">NOT NULL</span>, <span style="color: rgb(128, 128, 128); font-style: italic;">-- -99999 ~ +99999 <br></span><span style="color: rgb(128, 128, 128); font-style: italic;">    </span><span style="color: rgb(102, 14, 122); font-weight: bold;">mname  </span><span style="color: rgb(0, 0, 128); font-weight: bold;">VARCHAR</span>(<span style="color: rgb(0, 0, 255);">20</span>) <span style="color: rgb(0, 0, 128); font-weight: bold;">NOT NULL</span>, <span style="color: rgb(128, 128, 128); font-style: italic;">-- </span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">한글</span><span style="color: rgb(128, 128, 128); font-style: italic;"> 10</span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">자 <br></span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">    </span><span style="color: rgb(102, 14, 122); font-weight: bold;">funct  </span><span style="color: rgb(0, 0, 128); font-weight: bold;">VARCHAR</span>(<span style="color: rgb(0, 0, 255);">50</span>) <span style="color: rgb(0, 0, 128); font-weight: bold;">NOT NULL</span>, <span style="color: rgb(128, 128, 128); font-style: italic;">-- </span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">주요 기술 분야  <br></span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">    </span><span style="color: rgb(0, 0, 128); font-weight: bold;">PRIMARY KEY </span>(<span style="color: rgb(102, 14, 122); font-weight: bold;">testno</span>)         <span style="color: rgb(128, 128, 128); font-style: italic;">-- </span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">중복 안됨</span><span style="color: rgb(128, 128, 128); font-style: italic;">, </span><span style="color: rgb(128, 128, 128); font-style: italic; font-family: D2Coding;">고유한 값만 가능  <br></span>);<br><br><span style="color: rgb(0, 0, 128); font-weight: bold;">INSERT INTO test</span>(<span style="color: rgb(102, 14, 122); font-weight: bold;">testno</span>, <span style="color: rgb(102, 14, 122); font-weight: bold;">mname</span>, <span style="color: rgb(102, 14, 122); font-weight: bold;">funct</span>)<br><span style="color: rgb(0, 0, 128); font-weight: bold;">VALUES</span>(<span style="color: rgb(0, 0, 255);">1</span>, <span style="color: rgb(0, 128, 0); font-weight: bold;">'</span><span style="color: rgb(0, 128, 0); font-weight: bold; font-family: &quot;DejaVu Sans&quot;;">테스터</span><span style="color: rgb(0, 128, 0); font-weight: bold;">'</span>, <span style="color: rgb(0, 128, 0); font-weight: bold;">'JAVA'</span>);<br><span style="color: rgb(0, 0, 128); font-weight: bold;">SELECT </span><span style="font-style: italic;">* </span><span style="color: rgb(0, 0, 128); font-weight: bold;">FROM TEST</span>;</pre><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/737/original/image.png?1521581302" style="width: 548px;"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">변경이 되었으니 commit 을 해보았습니다.</p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/738/original/image.png?1521583811" style="width: 1118px;"><br><br><br></p><blockquote>docker commit -m "커밋할 이름" 컨테이너ID 원하는이미지이름:버전명&nbsp;</blockquote><p style="color: rgb(51, 51, 51);">위와 같은 명령어를 입력해줍니다.&nbsp;<br><br><img src="http://hellogohn.com/system/uploads/images/000/000/739/original/image.png?1521583828" style="width: 836px;"><br><br><br></p><p style="color: rgb(51, 51, 51);">시간이 좀 걸리고 sha~~ 라고 뜨게 됩니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/740/original/image.png?1521583939" style="width: 846px;"><br></p><blockquote>docker images&nbsp;</blockquote><p style="color: rgb(51, 51, 51);">위 명령어를 사용해서 이미지를 확인해보면 oracle_havedata 라는 image 가 새로 생성되었습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">생성한 이미지를 바탕으로 새로 docker 컨테이너를 생성해서 table 이 생성되어 있고, 데이터가 잘 들어가 있는지 확인합니다.&nbsp;</p><pre style="padding: 12px 14px; line-height: 1.42857; background-color: rgb(255, 255, 255);"><span style="font-family: Consolas, sans-serif; font-size: 16px;">docker run -d -p 50704:22 -p 50705:1521 </span><font face="Consolas, sans-serif"><span style="font-size: 16px;">oracle_havedata:0.2</span></font></pre><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">명령어를 입력해주고 docker 을 50705 포트로 열어 준 뒤에 datagrip을 사용해서 데이터를 확인해보면?&nbsp;</p><p style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/741/original/image.png?1521584645" style="width: 262px;"></p><p style="color: rgb(51, 51, 51);">database 가 없습니다....</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">일단 오라클은 아주 잘 작동하는데, 오라클에서 생긴 데이터를 백업하거나 저장하려면 어떻게 해야하는지는 잘 모르겠네요.&nbsp;<br>이미지를 commit 하면 당연히 DB 데이터가 추가 될 것 같았는데 그러지는 않네요.&nbsp;</p><p style="color: rgb(51, 51, 51);">아직은 정확한 개념을 잘 모르는 것 같으니, 해당 내용은 추가 학습 후 나중에 따로 포스팅 하겠습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br style="font-family: Roboto, sans-serif; font-size: 16px;"><span style="font-family: Roboto, sans-serif; font-size: 16px;">출처:&nbsp;</span></p><p><p style="color: rgb(51, 51, 51);"></p></p><p style="box-sizing: border-box; margin: 30px 0px; line-height: 1.5; color: rgb(51, 51, 51); font-family: &quot;Jeju Gothic&quot;, &quot;Nanum Gothic Coding&quot;, &quot;KoPub Batang&quot;, &quot;Nanum Gothic&quot;, serif; font-size: 20px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial;"><a href="http://jojoldu.tistory.com/169" style="box-sizing: border-box; background-color: rgb(255, 255, 255); color: rgb(0, 206, 163); text-decoration: none; font-family: Roboto, sans-serif; font-size: 16px;">http://jojoldu.tistory.com/169</a></p>
---
layout : article
title: "Atmel Studio 7 설치 후 Atmega128 작동시키기"
aside:
  toc: true
tags: Embedded
category : Embedded
author: melonicedlatte
published : True
hellogohn_num : 76
key : 2017-04-05-222048
--- 

<p><span style="background-color: rgb(255, 231, 206);">AT128A-75B</span> 라는 <span style="background-color: rgb(255, 231, 206);">Atmega128 MCU</span>을 사용한 제품을 구매해서 처음 구동시켜보려고 합니다.<br>아두이노만 사용하다가 처음 사용하는데 감이 잘 오지 않네요.</p><p><a href="https://www.devicemart.co.kr/1149213">https://www.devicemart.co.kr/1149213</a><br><span style="background-color: rgb(255, 231, 206);">AT128A-75B Plus MKII </span>라는 제품을 구매했습니다. ( AT128-75B 에 MKll 를 추가로 주는 것 같습니다. )</p><p><br></p><p><img style="width: 413px;" src="/system/uploads/images/000/001/079/original/image.png?1530187164"><br></p><p><br></p><p><a href="https://www.google.co.kr/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0ahUKEwj5hY3NjI3TAhVCz1QKHeOlA_EQFggaMAA&amp;url=https%3A%2F%2Fwww.devicemart.co.kr%2Finclude%2Fdown.php%3Ffile%3D%2Fdata%2Fgoods%2Fgoodsfile%2F1149213_file_0.pdf%26mode%3Dgoods%26name%3DAT128A-75B%2520Plus_MKII_%25B8%25C5%25B4%25BA%25BE%25F3.pdf&amp;usg=AFQjCNEniDJ7KJi3UTCn0SLWOMNMg17xhg&amp;sig2=xFLZQegpNL_KhcBpMKypsQ&amp;cad=rjt">https://www.google.co.kr/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0ahUKEwj5hY3NjI3TAhVCz1QKHeOlA_EQFggaMAA&amp;url=https%3A%2F%2Fwww.devicemart.co.kr%2Finclude%2Fdown.php%3Ffile%3D%2Fdata%2Fgoods%2Fgoodsfile%2F1149213_file_0.pdf%26mode%3Dgoods%26name%3DAT128A-75B%2520Plus_MKII_%25B8%25C5%25B4%25BA%25BE%25F3.pdf&amp;usg=AFQjCNEniDJ7KJi3UTCn0SLWOMNMg17xhg&amp;sig2=xFLZQegpNL_KhcBpMKypsQ&amp;cad=rjt</a></p><p>위의 링크에서 매뉴얼을 확인 할 수 있습니다.&nbsp;</p><p><br></p><p>위 제품은 <span style="background-color: rgb(255, 231, 206);">usb Btype,&nbsp;isp, JTag</span>&nbsp;방식으로 파일 전송이 가능한 제품이라고 하여 구매하게 되었습니다.<br><br>마이크로프로세서 책 들을 읽어보니 데이터 전송 방식에는 여러가지가 있는데 isp, jtag? 등등&nbsp;<br>대부분 isp 를 이용하는 듯 하였고, 단순히 usb 로 전송하는 것 보다는 isp 전송 방식을 알고 싶어서 구매한 제품입니다.&nbsp;</p><p>( <u>위의 2*5 짜리는 JTAG 아래의 2*3 짜리는 ISP 통신용입니다</u>. )</p><p><br></p><p><br></p><p><img style="width: 340px;" src="/system/uploads/images/000/001/080/original/image.png?1530187212"><br></p><p><a href="http://www.atmel.com/tools/atmelstudio.aspx#download">http://www.atmel.com/tools/atmelstudio.aspx#download</a></p><p>다음으로는 위 경로로 들어가서 <span style="background-color: rgb(255, 231, 206);">atmel studio 7</span>을 설치합니다.&nbsp;</p><p><br></p><p><img style="width: 840px;" src="/system/uploads/images/000/001/081/original/image.png?1530187272"><br></p><p><br></p><p>위와 같이 설치가 완료 되었습니다.&nbsp;</p><p><br></p><p><img style="width: 608px;" src="/system/uploads/images/000/001/082/original/image.png?1530187281"><br></p><p><br></p><p><br></p><p><img style="width: 522px;" src="/system/uploads/images/000/001/083/original/image.png?1530187286"><br></p><p><br></p><p>위와 같이 ATmega 128 을 선택해줍니다.&nbsp;</p><p><br></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(102, 102, 102); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0086b3">#include</span>&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">&lt;</span>avr<span style="color:#ff3399"></span><span style="color:#a71d5d">/</span>io.h<span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0086b3">#include</span>&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">&lt;</span>util<span style="color:#ff3399"></span><span style="color:#a71d5d">/</span>delay.h<span style="color:#ff3399"></span><span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#066de2">int</span>&nbsp;main(<span style="color:#a71d5d">void</span>)</div><div style="padding:0 6px; white-space:pre; line-height:130%">{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//포트D를&nbsp;출력으로&nbsp;설정한다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;DDRD&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0xFF</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">/*&nbsp;Replace&nbsp;with&nbsp;your&nbsp;application&nbsp;code&nbsp;*/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">while</span>&nbsp;(<span style="color:#0099cc">1</span>)&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//포트D의&nbsp;값을&nbsp;0xFF로&nbsp;한다.&nbsp;LED가&nbsp;켜진다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PORTD&nbsp;&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0xFF</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_delay_ms(<span style="color:#0099cc">300</span>);&nbsp;<span style="color:#999999">//300ms&nbsp;대기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//포트D의&nbsp;값을&nbsp;0x00으로&nbsp;한다.&nbsp;LED가&nbsp;꺼진다.</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PORTD&nbsp;<span style="color:#ff3399"></span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0x00</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_delay_ms(<span style="color:#0099cc">300</span>);&nbsp;<span style="color:#999999">//300ms&nbsp;대기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;"><br></span></a></td></tr></tbody></table></div><p>위의 소스코드를 넣어주고 D 포트 0~7 번에 출력을 설정하고 LED와 저항을 연결해준다.&nbsp;</p><p>그리고 빌드해주면 ??&nbsp;</p><p><br></p><p><img style="width: 701px;" src="/system/uploads/images/000/001/084/original/image.png?1530187294"><br></p><p>이런 창이 뜨면서 Selected debugger/programmer 를 선택하라고 합니다.&nbsp;</p><p>저는 AVRISP MKll 를 선택했구요</p><p><br></p><p>그 다음 코드를 실행하면 ??&nbsp;</p><p><img style="width: 378px;" src="/system/uploads/images/000/001/085/original/image.png?1530187305"><br></p><p><br></p><p><img style="width: 344px;" src="/system/uploads/images/000/001/086/original/image.png?1530187319"><br></p><p><br></p><p>잘 작동합니다.&nbsp;</p><p><br></p><p>- 출처 -&nbsp;<br><a href="http://webnautes.tistory.com/674">http://webnautes.tistory.com/674</a><a href="http://webnautes.tistory.com/674" style="background-color: rgb(255, 255, 255);"></a><br><a href="http://jjungineer.tistory.com/3" style="background-color: rgb(255, 255, 255);">http://jjungineer.tistory.com/3</a></p>
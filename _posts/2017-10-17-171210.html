---
layout : article
title: "Mac Os 에서 /etc/sudoers 파일 접근 에러 문제 "
aside:
  toc: true
tags: Linux
category : Linux
author: melonicedlatte
published : True
hellogohn_num : 161
key : 2017-10-17-171210
--- 

<p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">imjaegon-ui-MacBook-Pro:~ imjaegon$ sudo</span></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">sudo: /etc/sudoers is owned by uid 501, should be 0</span></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">sudo: no valid sudoers sources found, quitting</span></p><p>


</p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">sudo: unable to initialize policy plugin</span></p><p><br></p><p>맥이나 리눅스를 사용하면 위와 같은 에러 코드가 나올 때가 있습니다.</p><p> </p><p><span style="color: rgb(244, 244, 244); font-family: Monaco; font-size: 18px; background-color: rgba(0, 0, 0, 0.85098);">-r--r-----@ 1 imjaegon</span><span style="color: rgb(244, 244, 244); font-family: Monaco; font-size: 18px; background-color: rgba(0, 0, 0, 0.85098);">&nbsp;&nbsp;</span><span style="color: rgb(244, 244, 244); font-family: Monaco; font-size: 18px; background-color: rgba(0, 0, 0, 0.85098);">wheel</span><span style="color: rgb(244, 244, 244); font-family: Monaco; font-size: 18px; background-color: rgba(0, 0, 0, 0.85098);">&nbsp; 1591 Oct 17 16:21 /etc/sudoers</span></p><p>위 문제점은 /etc/sudoers 의 소유자가 root 가 아니라 다른 유저의 이름으로 설정 되어 있어서 발생하는 문제입니다.&nbsp;</p><p>이럴 경우 chown를 사용하여 사용자를 바꿔 주어야 하는데 해당 파일은 sudo chown 을 입력해야 하는 파일입니다.</p><p>그런데 sudo에 문제가 있어서 수정도 안되는 아이러니한 상황에 봉착하게 되죠.&nbsp;</p><p><br></p><p>이럴 때에는 어떻게 해야 할까요??</p><p><br></p><p><br></p><p><br></p><p>그래서 아래의 명령어를 입력해줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">imjaegon-ui-MacBook-Pro:~ imjaegon$ su - root</span></p><p>위의 명령어를 입력해서 루트 계정으로 터미널을 사용합니다.<br></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">imjaegon-ui-MacBook-Pro:~ root#&nbsp;</span></p><p>그러면 위 처럼 ~ root &nbsp;권한으로 터미널을 사용할 수 있습니다.&nbsp;</p><p>그리고 아래의 명령어를 입력해줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">imjaegon-ui-MacBook-Pro:~ root# chown 0 /etc/sudoers</span></p><p><br></p><p><br></p><p>그리고 ls 명령어를 통해서 소유자를 확인해보면 아래와 같이 root로 변경됩니다 !!&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">imjaegon-ui-MacBook-Pro:~ root# ls -l /etc/sudoers</span></p><p>
</p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">-r--r-----@ 1 root&nbsp; wheel&nbsp; 1591 Oct 17 16:21 /etc/sudoers</span></p><p><br></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">imjaegon-ui-MacBook-Pro:~ root# sudo</span></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">usage: sudo -h | -K | -k | -V</span></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">usage: sudo -v [-AknS] [-g group] [-h host] [-p prompt] [-u user]</span></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">usage: sudo -l [-AknS] [-g group] [-h host] [-p prompt] [-U user] [-u user] [command]</span></p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">usage: sudo [-AbEHknPS] [-C num] [-g group] [-h host] [-p prompt] [-u user] [VAR=value] [-i|-s] [&lt;command&gt;]</span></p><p>




</p><p style="margin-top: 0px; margin-bottom: 0px; font-stretch: normal; font-size: 18px; line-height: normal; font-family: Monaco; color: rgb(244, 244, 244); background-color: rgba(0, 0, 0, 0.85098);"><span style="font-variant-ligatures: no-common-ligatures">usage: sudo -e [-AknS] [-C num] [-g group] [-h host] [-p prompt] [-u user] file ...</span></p><div><span style="font-variant-ligatures: no-common-ligatures"><br></span></div><div>그 다음부터는 명령어가 잘 동작합니다.&nbsp;</div>
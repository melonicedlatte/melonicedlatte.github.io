---
layout : article
title: "아두이노를 활용하여,  Serial에서 숫자를 입력하면 전등 ON/OFF 하기 (Serial 을 통한 부품 제어 )"
aside:
  toc: true
tags: Embedded
category : Embedded
author: melonicedlatte
published : True
hellogohn_num : 7
key : 2016-07-14-160247
--- 

<p>아까 3D 프린터로 만든 램프 모형을 써먹기? 위해서 LED 를 부착해서 사용자가 Serial 로 입력할 수 있는 램프를 만들어 봤습니다.</p><p><img src="/system/uploads/images/000/000/840/original/image.png?1522774003" style="width: 404px;"><br></p><p><br></p><p>구조는 매우 단순합니다.&nbsp;</p><p>Serial 을 통해서 더욱 어려운 제어를 하기 전에 입문? 정도로 보면 좋을 것 같습니다.&nbsp;</p><p>LED 전구를 6번 포트와 저항에 연결하고 그라운드 부분은 그라운드에 연결합니다.</p><p><br></p><p><img src="/system/uploads/images/000/000/841/original/image.png?1522774008" style="width: 404px;"><br></p><p><br></p><p>뭐 빵판을 빼고 보면 이렇게 단순한 구조입니다. 그림으로 보면 아래오 같습니다.&nbsp;</p><p><br></p><p><img src="/system/uploads/images/000/000/842/original/image.png?1522774019" style="width: 428px;"><br></p><p><br></p><p>소스파일은 2개로 이루어져있습니다. Light_Lamp 와 serial 이라는 2개의 파일로요.</p><p><br></p><p><img src="/system/uploads/images/000/000/843/original/image.png?1522774030" style="width: 414px;"><br></p><p><br></p><p>setup() 함수에서 serial의 setup()을 불러옵니다.&nbsp;</p><p>loop() 함수에서는 serial 의 loop()를 불러옵니다.</p><p>6번핀을 OUTPUT 으로 설정하고 light_on 이 1 이면 출력하고 , 0이면 출력하지 않아도 된다.</p><p><br></p><p><img src="/system/uploads/images/000/000/844/original/image.png?1522774039" style="width: 454px;"><br></p><p><br></p><p>이제 serial 탭을 살펴보자.</p><p>맨 위에는 showMenu() 라는 메소드를 설정하고 Serial 에 Led Enable 글자를 출력해준다.&nbsp;</p><p>serial_setup 은 Serial 을 9600으로 설정해주고 showMenu() 메소드를 호출합니다.</p><p><br></p><p>serial_loop() 에서는 userCmd 변수에 사용자의 입력을 받습니다.</p><p>사용자의 입력을 받으면 switch 문을 통해서 1이 입력되면 light_on 이 1 이면 0으로 &nbsp;0이면 1로 변환시켜준다.</p><p><br></p><p><img src="/system/uploads/images/000/000/845/original/image.png?1522774046" style="width: 480px;"><br></p><p><br></p><p>업로드 시켜준다.</p><p><br></p><p><img src="/system/uploads/images/000/000/846/original/image.png?1522774058" style="width: 205.788px; height: 163.575px;"><br></p><p>처음에 이렇게 뜬다.</p><p><img src="/system/uploads/images/000/000/847/original/image.png?1522774078" style="width: 362px;"><br></p><p><br></p><p><img src="/system/uploads/images/000/000/848/original/image.png?1522774085" style="width: 180px;"><br></p><p>1을 입력하고 엔터를 &nbsp;쳐준다.</p><p><br></p><p><img src="/system/uploads/images/000/000/849/original/image.png?1522774098" style="width: 406px;"><br></p><p><br></p><p>그러면 램프의 불이 반대로 바뀐다. 켜져있으면 꺼지고 꺼져있으면 켜진다.</p><p>간단하죠? 다음에는 블루투스를 활용한 램프를 만들어 보겠습니다.</p>
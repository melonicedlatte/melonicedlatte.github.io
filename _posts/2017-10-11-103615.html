---
layout : article
title: "[맥에서 AVR 개발하기] 통합프로그램 CrossPack를 사용하여 avr 개발하기 [jkit-128-1//atmega 128]"
aside:
  toc: true
tags: Iot
category : Iot
author: melonicedlatte
published : True
hellogohn_num : 155
key : 2017-10-11-103615
--- 

<p style="color: rgb(51, 51, 51);">avr 개발을 하기 위해서, 다른 블로그 글을 동일하게 포스팅 하던 도중에 make 같은 명령어가 많이 나오게 되었습니다.<br>아직 커널 프로그래밍을 완벽하게 하지 못하여, 이해하지 못하고 중단하게 되었습니다.&nbsp;</p><p style="color: rgb(51, 51, 51);">그래서 다른 곳에서 CrossPack 이라는 것을 찾아서 설치해보기로 하였습니다.&nbsp;<br>저는 jkit-128-1&nbsp;&nbsp; 보드를 사용합니다.&nbsp;<br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">윈도우 사용자들을 AVR을 개발하기 위해 개발환경으로 AVR Studio(주로 AVR Studio 4)와 툴체인으로 WinAVR을 사용한다.</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">하지만 맥 운영체제를 위한 AVR Studio는 없기 때문에 맥 사용자들은 다른 방법을 찾아야 한다.</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span _foo="line-height: 1.5;" style="font-size: 18px;">맥 사용자들에게는 다음과 같은 선택지가 있다.</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">- 개발환경 -&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">1. 터미널에 명령어들을 입력해서 소스코드를 컴파일하고 .hex 파일을 개발보드에 올린다.</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">2. 이클립스나 XCode 등의 통합 개발환경을 이용해서&nbsp;</span><span _foo="line-height: 1.5;" style="font-size: 18px;">소스코드를 컴파일하고 .hex 파일을 개발보드에 올린다.<br><br><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">나 같은 경우에는 1번은 너무 어렵게 느껴져서 2번으로 넘어갔다.&nbsp;<br>GUI가 좋으니까 이클립스와 CrossPack을 이용해서 AVR 개발환경을 구축하는 방법에 대해서 이야기하고자 한다.</span><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">일단 논의를 시작하기 전에 해당 보드의 드라이버는 운영체제에 맞춰서 설치해놓기 바란다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><u style="font-family: sans-serif; font-size: 18px;"><br><br><br><br><br></u></p><div class="page" title="Page 10" style="color: rgb(51, 51, 51);"><div class="section"><div class="layoutArea"><div class="column"><p><span style="font-size: 20pt; font-family: MalgunGothicBold; color: rgb(0, 128, 0);">CP2102</span><span style="font-size: 20pt; font-family: MalgunGothicBold; color: rgb(0, 128, 0);">칩을 위한&nbsp;</span><span style="font-size: 20pt; font-family: MalgunGothicBold; color: rgb(0, 128, 0);">USB-to-Serial&nbsp;</span><span style="font-size: 20pt; font-family: MalgunGothicBold; color: rgb(0, 128, 0);">드라이버 설치</span></p></div></div></div></div><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">Atmega128 을 사용하기 때문에 해당 드라이버를 설치하러 가보겠다.&nbsp;<br>아래의 링크로 들어가서 Mac OSX 용&nbsp;SiLabsUSBDriverDisk.dmg 를 다운받는다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><a href="https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers">https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers</a><font face="sans-serif"><span style="font-size: 18px;"><br></span></font></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><font face="sans-serif"><span style="font-size: 18px;"><br></span></font><img src="http://hellogohn.com/system/uploads/images/000/000/364/original/image.png?1507657677" style="width: 1118px;"><br><br><br><br><br><br><img src="http://hellogohn.com/system/uploads/images/000/000/365/original/image.png?1507657959" style="width: 733.83px; height: 484.406px;"></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">아래의 링크를 동하여 dmg파일을 열고 아래의 파일 에서 Silicon Labs cp210x vcp driver.pkg 를 실행해서 설치해줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/366/original/image.png?1507658010" style="width: 829.931px; height: 740.851px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/367/original/image.png?1507658085" style="width: 853.457px; height: 596.962px;"><br><br><br><br><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">맥에서는 AVR을 개발하기 위해 CrossPack라는 통합 프로그램을 사용한다.</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">CrossPack에는 &nbsp;AVR-GCC, C&nbsp;라이브러리, AVRDUDE 등이 포함되어있다.</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 18px;">다음 링크에서 다운 받으면 되겠다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><a href="https://www.obdev.at/products/crosspack/index.html">https://www.obdev.at/products/crosspack/index.html</a><font face="sans-serif"><span style="font-size: 18px;"><br></span></font><br>링크에 들어가면 아래의 홈페이지가 나온다.&nbsp;<br>다운로드를 눌러준다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br><img src="http://hellogohn.com/system/uploads/images/000/000/368/original/image.png?1507658251" style="width: 1118px;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">그 다음 가장 최신 파일을 다운로드 눌러줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br><img src="http://hellogohn.com/system/uploads/images/000/000/369/original/image.png?1507658357" style="width: 1118px;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">해당 파일을 클릭하고 pkg 파일을 더블클릭하여 실행시켜줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br><br><img src="http://hellogohn.com/system/uploads/images/000/000/370/original/image.png?1507658428" style="width: 772.677px; height: 659.333px;"><br><br><br><img src="http://hellogohn.com/system/uploads/images/000/000/371/original/image.png?1507658573" style="width: 747.453px; height: 422.74px;"></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">위와 같은 문구가 뜨기 때문에 control + 열기 를 해줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br><img src="http://hellogohn.com/system/uploads/images/000/000/372/original/image.png?1507658618" style="width: 802.673px; height: 557.851px;"></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">그리고 설치를 진행합니다.&nbsp;<br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/373/original/image.png?1507658676" style="width: 694.888px; height: 484.184px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><pre style="padding: 0px; margin-bottom: 0px; line-height: 1.8; text-size-adjust: auto;"><span style="font-size: 18px;"> $ cd /usr/local $ ls</span></pre><div style="color: rgb(51, 51, 51);"><span style="font-size: 18px;"><br></span></div><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/376/original/image.png?1507685222" style="width: 1118px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">위의 명령어를 치고 폴더에 있는 CrossPack-AVR 이 있으면 성공입니다!!</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">만약 CrossPack-AVR-20131216 이 있으면, 아래의&nbsp; 명령어에서&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">그 다음 환경 변수 설정에서 시간이 좀 걸렸는데요&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><pre style="padding: 0px; margin-bottom: 0px; line-height: 1.8; text-size-adjust: auto;"><span style="font-size: 18px;"> $ cd ~ $ ls -la</span></pre><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">디렉토리에 가서 .bash_profile 를 확인합니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><pre style="padding: 0px; margin-bottom: 0px; line-height: 1.8; text-size-adjust: auto;"><span style="font-size: 18px;"> $ vim .bash_profile</span></pre><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);">그 다음 해당 파일을 편집합니다.&nbsp;</div><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);">이 과정은 시스템 환경변수를 추가해주는 과정입니다.&nbsp;</div><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);"><br></div><div style="color: rgb(51, 51, 51);"><pre style="padding: 0px; margin-bottom: 0px; line-height: 1.8; text-size-adjust: auto;"><span style="font-size: 18px;"> export PATH=$PATH:/usr/local/CrossPack-AVR/bin</span></pre></div><div style="color: rgb(51, 51, 51);"><br>아니면 아래의 명령어를 입력해줍니다. (존재 하는 경로로 추가 )&nbsp;<br><br class="Apple-interchange-newline"><pre style="line-height: 1.42857;"><span courier="" new",="" monospace;="" font-size:="" 18px;="" white-space:="" pre;="" background-color:="" rgb(245,="" 245,="" 245);"="">export PATH=$PATH:/usr/local/CrossPack-AVR-20131216/bin</span></pre><br></div><div style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/374/original/image.png?1507685036" style="width: 637.677px; height: 70.4338px;"><br></div><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br>그 다음 위의 경로를 추가해 줍니다.&nbsp;<br>아래의 경로에는 avrdude가 있습니다.&nbsp;<br><br><img src="http://hellogohn.com/system/uploads/images/000/000/375/original/image.png?1507685147" style="width: 710.124px; height: 686.024px;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">그리고 터미널을 껐다가 키거나 다른 터미널을 키면??<br><img src="http://hellogohn.com/system/uploads/images/000/000/377/original/image.png?1507685722" style="width: 905.209px; height: 763.517px;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">정상 작동한다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><h2 style="color: rgb(51, 51, 51);">개발환경 세팅</h2><h3 style="color: rgb(51, 51, 51);">프로그래머 이름과 포트 확인</h3><ul style="color: rgb(51, 51, 51);"><li>AVR 개발을 위한 프로그래머가 어떤 종류인지, 어떤 이름으로 OS-X에 연결되는지를 알아야 한다.</li><li>보통은 STK500 이나 그런 비슷한 이름들이 있다.</li><li>내가 사용한 것은 AVRISP 라는 이름인데, STK500 호환기종인지 대체로 STK500 이라 선택하면 잘 동작한다.</li><li>그리고 이 프로그래머는 USB로 연결하는 프로그래머지만, 실제로는 USB를 시리얼 포트로 사용해 통신하는 프로그래머다.</li><li>맥에서는 이 USB 프로그래머가 연결되면 어떤 디바이스로 인식하는지 알아야 한다.</li><li>/dev 폴더의 목록을 들여다 보면 tty.SLAB_USBtoUART 라는 이름으로 나타났다.</li><li>프로그래머를 꽂지 않았을때 없는 이름이 꽂고 나서 나타나면 그 것이 장치의 이름이다.</li><li><br></li><li><br></li><li><br><img src="http://hellogohn.com/system/uploads/images/000/000/381/original/image.png?1507692133" style="width: 178.677px; height: 84.4433px;"><br></li></ul><h3 style="color: rgb(51, 51, 51);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<img src="http://hellogohn.com/system/uploads/images/000/000/379/original/image.png?1507692102" style="width: 350.916px; height: 105.74px;"><br><br></h3><h3 style="color: rgb(51, 51, 51);">&nbsp; &nbsp; 반드시 장치를 연결하고 확인하자 !&nbsp;</h3><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><h3 style="color: rgb(51, 51, 51);"><br><br>샘플 프로젝트 생성하기</h3><ul style="color: rgb(51, 51, 51);"><li lucida="" grande";="" text-size-adjust:="" auto;"="">샘플 프로젝트를 만들고 확인해 보자.</li><li lucida="" grande";="" text-size-adjust:="" auto;"="">샘플 프로젝트로 LED를 깜빡이는 프로그램을 작성한다.</li><li lucida="" grande";="" text-size-adjust:="" auto;"="">여기 예는 ATmega8, 내장 클럭, PD7에 출력하는 것으로 회로를 구성했다.</li><div><br></div></ul><p style="margin-top: 0px; margin-bottom: 0px; line-height: 1.8; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><blockquote style="padding: 0px; margin-bottom: 0px; text-size-adjust: auto;"><p>&nbsp;$ cd ~/Desktop</p><p>&nbsp;$ avr-project Demo</p></blockquote><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/378/original/image.png?1507686501" style="width: 846.677px; height: 125.714px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><ul lucida="" grande";="" text-size-adjust:="" auto;"="" style="color: rgb(51, 51, 51);"><li>여기까지 하면 데스크탑에 Demo 폴더가 생기고, 그 안에 기본적인 프로젝트 파일들이 생성되어 있다.</li><li>Demo 폴더의 firmware 폴더에 들어가면 실제 작업할 파일들이 보인다.</li><li>이제 Makefile을 수정해야 한다.<br><br><blockquote jeju="" gothic",="" "nanum="" gothic="" coding",="" "kopub="" batang",="" serif;"="" style="margin-bottom: 0px;">&nbsp;$ cd ~/Desktop<br>&nbsp;$ avr-project Demo<br>&nbsp;$ cd ~/desktop<br>&nbsp;$ cd demo<br>&nbsp;$ cd firmware<br></blockquote></li><li><br></li></ul><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/382/original/image.png?1507692550" style="width: 546.372px; height: 165.628px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;">gedit 을 통해서 Makefile 을 수정해줍니다.&nbsp;</p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><blockquote style="padding: 0px; margin-bottom: 0px; text-size-adjust: auto;">&nbsp;$ gedit Makefile&amp;</blockquote><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/384/original/image.png?1507692658" style="width: 381.677px; height: 55.4921px;"><br><br><br><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; text-size-adjust: auto;"><br></p><blockquote style="padding: 0px; margin-bottom: 0px; text-size-adjust: auto;">&nbsp;#PROGRAMMER = #-c stk500v2 -P avrdoper&nbsp; &nbsp; &nbsp;&lt;== 이것을 다음 줄로 고쳤다.&nbsp; &nbsp;&nbsp;<br>&nbsp;PROGRAMMER = -c stk500v2 -P /dev/tty.SLAB_USBtoUART&nbsp; &nbsp;</blockquote><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/383/original/image.png?1507692641" style="width: 615.677px; height: 176.222px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br><br><br></p><h3 lucida="" grande";="" color:="" rgb(0,="" 0,="" 0);="" text-size-adjust:="" auto;"="" style="color: rgb(51, 51, 51);">메인 프로그램 작성</h3><p lucida="" grande";="" text-size-adjust:="" auto;"="" style="color: rgb(51, 51, 51);">main.c 파일을 열고 다음과 같이 수정한다. (인클루드 문장의 꺽쇠 괄호 안에 있는 띄어쓰기는 없앤다)</p><p lucida="" grande";="" text-size-adjust:="" auto;"="" style="color: rgb(51, 51, 51);"><br class="Apple-interchange-newline"></p><blockquote>&nbsp;$ gedit main.c</blockquote><p style="color: rgb(51, 51, 51);"></p><p lucida="" grande";="" text-size-adjust:="" auto;"="" style="color: rgb(51, 51, 51);"><img src="http://hellogohn.com/system/uploads/images/000/000/386/original/image.png?1507692896" style="width: 225.922px; height: 76.6284px;"><br><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/385/original/image.png?1507692778" style="width: 426.662px; height: 343.517px;"><br><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><pre style="line-height: 1.42857;"><span class="s1">#include &lt;avr/io.h&gt;</span><avr io.h=""><br><span class="s1">#include &lt;util/delay.h&gt;</span><util delay.h=""><br><span class="s2">int</span> main(<span class="s2">void</span>)<span class="Apple-converted-space">&nbsp; &nbsp; </span>{<br><span class="Apple-converted-space">&nbsp; &nbsp; </span>DDRD = <span class="s3">1</span> &lt;&lt; <span class="s3">7</span>;<br><span class="Apple-converted-space">&nbsp; &nbsp; </span><span class="s2">for</span>(;;) {<br><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; </span>PORTD ^= <span class="s3">1</span> &lt;&lt; <span class="s3">7</span>;<br><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; </span>_delay_ms(<span class="s3">500</span>);<br><span class="Apple-converted-space">&nbsp; &nbsp; </span>}<br><span class="s4">&nbsp; &nbsp; </span>return<span class="s4"> </span><span class="s3">0</span><span class="s4">;<br></span>}</util></avr></pre><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/387/original/image.png?1507693026" style="width: 598.677px; height: 141.369px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;">make 를 했더니 다음과 같은 에러가 발생했습니다.&nbsp;<br><br></p><pre style="line-height: 1.42857;"><span class="s1">avr-gcc -Wall -Os -DF_CPU=8000000 -mmcu=atmega8 -c main.c -o main.o<br></span><span class="s1">main.c:1:22: fatal error:<span class="Apple-converted-space">&nbsp; </span>avr/io.h : No such file or directory<br></span><span class="s1">compilation terminated.<br></span><span class="s1">make: *** [main.o] Error 1</span></pre><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/388/original/image.png?1507693796" style="width: 922.677px; height: 105.637px;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px; text-size-adjust: auto;"><span style="color: rgb(51, 51, 51); font-family: sans-serif; font-size: 24px; background-color: rgb(255, 255, 0);">에러 해결법 :&nbsp;</span><font color="#333333" face="sans-serif"><span style="font-size: 24px;">&lt; avr/io.h &gt; head 파일에서 include 할 때 왼쪽처럼 공백이 있으면 안된다.&nbsp;<br></span></font><span style="color: rgb(51, 51, 51); font-family: sans-serif; font-size: 24px;">&lt;avr/io.h&gt;로 바꾸자 !!!&nbsp;&nbsp;</span><font color="#333333" face="sans-serif"><span style="font-size: 24px;"><br></span></font></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><br><br><br><img src="http://hellogohn.com/system/uploads/images/000/000/391/original/image.png?1507703740" style="width: 708.127px; height: 464.906px;"><br><br></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="background-color: rgb(255, 255, 0);"><span style="font-size: 24px;">UART 선택 스위치를 PIC로 맞춘다.&nbsp;</span><br><br><br><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">컴퓨터를 껐다가 키고 수 많은 구글링을 하면서 어느 순간 make 함수가 작동하였다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">간단하게 나는 프로젝트를 일단 다시 빌드했다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; font-size: 16.002px; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">새로운 폴더에 아래의 명령어를 통하여 다시 빌드하였다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">$ avr-project Demo&nbsp;&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">그러니 위의 문제가 해소되었다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><pre><span class="s1">avr-gcc -Wall -Os -DF_CPU=8000000 -mmcu=atmega8 -c main.c -o main.o<br></span><span class="s1">avr-gcc -Wall -Os -DF_CPU=8000000 -mmcu=atmega8 -o main.elf main.o<br></span><span class="s1">rm -f main.hex<br></span><span class="s1">avr-objcopy -j .text -j .data -O ihex main.elf main.hex<br></span><span class="s1">avr-size --format=avr --mcu=atmega8 main.elf<br></span><span class="s1">avr-size: invalid argument to --format: avr<br></span><span class="s1">Usage: avr-size [option(s)] [file(s)]<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;</span>Displays the sizes of sections inside binary files<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;</span>If no input file(s) are specified, a.out is assumed<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;</span>The options are:<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp;</span>-A|-B&nbsp;<span class="Apple-converted-space">&nbsp; &nbsp;&nbsp;</span>--format={sysv|berkeley}<span class="Apple-converted-space">&nbsp;&nbsp;</span>Select output style (default is berkeley)<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp;</span>-o|-d|-x<span class="Apple-converted-space">&nbsp;&nbsp;</span>--radix={8|10|16}&nbsp;<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Display numbers in octal, decimal or hex<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp;</span>-t<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>--totals<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Display the total sizes (Berkeley only)<br></span><span class="s1"><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>--common<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Display total size for *COM* syms<br></span><span class="s1"><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>--target=<bfdname><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Set the binary file format<br></bfdname></span><span class="s1"><span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>@<file>&nbsp;<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Read options from <br><file></file></file></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp;</span>-h<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>--help<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Display this information<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp;</span>-v<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>--version&nbsp;<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>Display the program's version</span><br><span class="s1">avr-size: supported targets: elf32-avr elf32-little elf32-big srec symbolsrec verilog tekhex binary ihex<br></span><span class="s1">make: *** [main.hex] Error 1</span></pre><p class="p2"><span class="s1"></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">다행이 위의 문제가 error 은 떴지만&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">$ make flash 명령어는 아래와 같이 동작하였다.&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><pre style="padding: 0px; margin-bottom: 0px; line-height: 1.42857; text-size-adjust: auto;"><span style="font-size: 24px;">   <span style="font-size: 18px;">만약 위의 에러를 없애고 싶으면 (근본적인 해결책은 아니니 하지 않는 것을 추천한다. )</span><span style="background-color: rgb(255, 255, 0);"><br></span></span>      <img src="http://hellogohn.com/system/uploads/images/000/000/392/original/image.png?1507703932" style="width: 734.334px; height: 169.462px;"><br><font color="#333333" face="sans-serif">     </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#333333" face="sans-serif"><span style="font-size: 18px;">#</span><span style="font-size: 18px;">	</span><span style="font-size: 18px;">  </span><span style="font-size: 18px;">avr-size --format=avr --mcu=$(DEVICE) main.elf&nbsp; &nbsp;</span></font><span style="font-size: 18px;">를 해주면 된다.&nbsp;</span></pre><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">그 다음 명령어를 입력해준다&nbsp;</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);">$ make flash<br><br><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><img src="http://hellogohn.com/system/uploads/images/000/000/390/original/image.png?1507702970" style="width: 1118px;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 24px; background-color: rgb(255, 255, 0);"><br></span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;">&nbsp;READ 작동은 되고 있는 것이다 !!&nbsp;<br>하지만 아래와 같이 flash 에러가 뜨고 있다.&nbsp;<br></p><p class="p1"><span class="s1">make: *** [flash] Error 1</span></p><p style="margin-top: 0px; margin-bottom: 0px; color: rgb(51, 51, 51); padding: 0px; font-family: sans-serif; text-size-adjust: auto;"><span style="font-size: 18px;">&nbsp;</span></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><font color="#333333">구글링을 해보다가 답답해서 avr-size 함수의 문제인 것 같아서&nbsp;</font><a href="https://github.com/osx-cross/homebrew-avr">https://github.com/osx-cross/homebrew-avr</a><br>해당 링크를 참조하여 명령어를 입력했다. 그러면 아래와 같이 잘 설치를 한다.&nbsp;</p><blockquote>$ brew tap osx-cross/avr<br>$ brew install avr-gcc<br></blockquote><pre style="color: rgb(51, 51, 51);"><span class="s1"><span class="Apple-converted-space">&nbsp;</span>brew install avr-gcc<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Installing avr-gcc from osx-cross/avr<br></span><span class="s4">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Installing dependencies for osx-cross/avr/avr-gcc:&nbsp;</span><span class="s4">avr-binutils<br></span><span class="s4">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Installing osx-cross/avr/avr-gcc dependency:&nbsp;</span><span class="s4">avr-binutils<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Downloading http://ftp.gnu.org/gnu/binutils/binutils-2.28.tar.bz2<br></span><span class="s1">######################################################################## 100.0%<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Downloading https://raw.githubusercontent.com/osx-cross/homebrew-avr/master/avr-binutils-size.patch<br></span><span class="s1">######################################################################## 100.0%<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Patching<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Applying avr-binutils-size.patch<br></span><span class="s1">patching file binutils/size.c<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">../configure --prefix=/usr/local/Cellar/avr-binutils/2.28 --infodir=/usr/local/Cellar/avr-binutils/2.28/share/info --mandir=/usr/l<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">make<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">make install<br></span><span class="s1">🍺<span class="Apple-converted-space">&nbsp;&nbsp;</span>/usr/local/Cellar/avr-binutils/2.28: 140 files, 12.0MB, built in 3 minutes 10 seconds<br></span><span class="s1">==&gt;</span><span class="s3">&nbsp;</span><span class="s5">Installing&nbsp;</span><span class="s1">osx-cross/avr/avr-gcc<br></span><span class="s2">==&gt;</span><span class="s3">&nbsp;</span><span class="s1">Downloading https://gcc.gnu.org/pub/gcc/</span></pre><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);">그런데 우연히 문제를 해결해 버렸습니다.&nbsp;</p><pre style="line-height: 1.42857;"><font color="#333333"><span style="font-size: 18px;">DEVICE&nbsp; &nbsp; &nbsp;= atmega128 </span><br></font><font color="#333333"><span style="font-size: 18px;">CLOCK&nbsp; &nbsp; &nbsp; = 8000000</span><br></font><font color="#333333"><span style="font-size: 18px;"># PROGRAMMER = #-c stk500v2 -P avrdoper</span><br></font><font color="#333333"><span style="font-size: 18px;">PROGRAMMER = -c stk500v2 -P /dev/tty.SLAB_USBtoUART</span><br></font><font color="#333333"><span style="font-size: 18px;">OBJECTS&nbsp; &nbsp; = main.o</span><br></font><font color="#333333"><span style="font-size: 18px;">FUSES&nbsp; &nbsp; &nbsp; = -U hfuse:w:0xd9:m -U lfuse:w:0x24:m</span></font></pre><p style="color: rgb(51, 51, 51);"><br></p><p style="line-height: 1.42857; color: rgb(51, 51, 51);"><span style="background-color: rgb(255, 255, 0);">DEVICE&nbsp; &nbsp; &nbsp;= atmega8 -&gt; atmega128 로 변경 !!&nbsp;<br><br>해주니?? 또 에러가 발생했네요.&nbsp;<br><br></span></p><p style="line-height: 1.42857; color: rgb(51, 51, 51);"><span style="background-color: rgb(255, 255, 0);"><br></span></p><p style="line-height: 1.42857; color: rgb(51, 51, 51);"><span style="background-color: rgb(255, 255, 0);"><br></span></p><pre><span class="s1">imjaegon$ make fuse<br></span><span class="s1">avrdude -c stk500v2 -P /dev/tty.SLAB_USBtoUART -p atmega128 -U hfuse:w:0xd9:m -U lfuse:w:0x24:m</span><br><span class="s1">avrdude: AVR device initialized and ready to accept instructions</span><br><span class="s1">Reading | ################################################## | 100% 0.01s</span><br><span class="s1">avrdude: Device signature = 0x1e9702<br></span><span class="s1">avrdude: reading input file "0xd9"<br></span><span class="s1">avrdude: writing hfuse (1 bytes):</span><br><span class="s1">Writing | ################################################## | 100% 0.00s</span><br><span class="s1">avrdude: 1 bytes of hfuse written<br></span><span class="s1">avrdude: verifying hfuse memory against 0xd9:<br></span><span class="s1">avrdude: load data hfuse data from input file 0xd9:<br></span><span class="s1">avrdude: input file 0xd9 contains 1 bytes<br></span><span class="s1">avrdude: reading on-chip hfuse data:</span><br><span class="s1">Reading | ################################################## | 100% 0.00s</span><br><span class="s1">avrdude: verifying ...<br></span><span class="s1">avrdude: 1 bytes of hfuse verified<br></span><span class="s1">avrdude: reading input file "0x24"<br></span><span class="s1">avrdude: writing lfuse (1 bytes):</span><br><span class="s1">Writing |<span class="Apple-converted-space">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>| 0% 0.00savrdude: stk500v2_ReceiveMessage(): timeout<br></span><span class="s1">avrdude: stk500v2_cmd(): short reply, len = 0<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;</span>***failed;&nbsp;<span class="Apple-converted-space">&nbsp;<br></span></span><span class="s1">Writing | ################################################## | 100% 5.07s</span><br><span class="s1">avrdude: 1 bytes of lfuse written<br></span><span class="s1">avrdude: verifying lfuse memory against 0x24:<br></span><span class="s1">avrdude: load data lfuse data from input file 0x24:<br></span><span class="s1">avrdude: input file 0x24 contains 1 bytes<br></span><span class="s1">avrdude: reading on-chip lfuse data:</span><br><span class="s1">Reading | ################################################## | 100% 0.00s</span><br><span class="s1">avrdude: verifying ...<br></span><span class="s1">avrdude: verification error, first mismatch at byte 0x0000<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>0xff != 0x24<br></span><span class="s1">avrdude: verification error; content mismatch</span><br><span class="s1">avrdude: safemode: lfuse changed! Was 24, and is now ff<br></span><span class="s1">Would you like this fuse to be changed back? [y/n] y<br></span><span class="s1">avrdude: stk500v2_ReceiveMessage(): timeout<br></span><span class="s1">avrdude: stk500v2_cmd(): short reply, len = 0<br></span><span class="s1">avrdude: stk500v2_ReceiveMessage(): timeout<br></span><span class="s1">avrdude: stk500v2_cmd(): short reply, len = 0</span></pre><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p class="p2"><span class="s1"></span></p><p style="line-height: 1.42857; color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"><br></p><pre style="color: rgb(51, 51, 51);"><pre style="line-height: 1.42857;"><span class="s1">avrdude: verification error, first mismatch at byte 0x0000<br></span><span class="s1"><span class="Apple-converted-space">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span>0xff != 0x24<br></span><span class="s1">avrdude: verification error; content mismatch</span><br><span class="s1">avrdude: safemode: lfuse changed! Was 24, and is now ff<br></span><span class="s1">Would you like this fuse to be changed back? [y/n] y</span></pre></pre><p style="color: rgb(51, 51, 51);">위와 같은 문제인데요 .</p><p style="color: rgb(51, 51, 51);"><br><img src="/system/uploads/images/000/000/393/original/image.png?1507713451" style="width: 536.677px; height: 183.78px;"><br></p><p style="color: rgb(51, 51, 51);">위에 처럼 lfuse 에 있는 상수를 에러 메세지에 나온걸로 바꿔줍니다. !!!&nbsp;</p><p style="color: rgb(51, 51, 51);">그리고 jkit-128-1를 한 번 뽑았다가 다시 꽂으면??<br><span style="background-color: rgb(255, 255, 0);">잘 됩니다 !!!&nbsp;</span><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"><br></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p style="color: rgb(51, 51, 51);"></p><p jeju="" gothic",="" "nanum="" gothic="" coding",="" "kopub="" batang",="" serif;="" font-size:="" 20px;="" font-style:="" normal;="" font-variant-ligatures:="" font-variant-caps:="" font-weight:="" letter-spacing:="" orphans:="" 2;="" text-align:="" start;="" text-indent:="" 0px;="" text-transform:="" none;="" white-space:="" widows:="" word-spacing:="" -webkit-text-stroke-width:="" background-color:="" rgb(255,="" 255,="" 255);="" text-decoration-style:="" initial;="" text-decoration-color:="" initial;"="" style=""><font color="#333333">- 출처 -</font><br><a href="https://m.blog.naver.com/PostView.nhn?blogId=swkang7229&amp;logNo=220436587403&amp;proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F" style="color: rgb(51, 51, 51);">https://m.blog.naver.com/PostView.nhn?blogId=swkang7229&amp;logNo=220436587403&amp;proxyReferer=https%3A%2F%2F<br>www.google.co.kr%2F</a><a href="https://m.blog.naver.com/PostView.nhn?blogId=swkang7229&amp;logNo=220436587403&amp;proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F"></a><a href="http://audiocookie.com/doc/avrosx#.Wd3ZOBO0OLI">http://audiocookie.com/doc/avrosx#.Wd3ZOBO0OLI</a><br><font color="#333333"><br></font><br></p>
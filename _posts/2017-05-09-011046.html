---
layout : article
title: "Internet Explorer 에서의 ajax 에서의 한글 깨짐 현상"
aside:
  toc: true
tags: Web
category : Web
author: melonicedlatte
published : True
hellogohn_num : 77
key : 2017-05-09-011046
--- 

<p>개발자들은 크롬을 선호합니다.<br>하지만 서비스 이용시 유저들은 익스프롤러에 많이 머물러 있습니다.</p><p>따라서 익스프롤러의 호환을 생각하지 않을 수 없습니다. &nbsp;<br>유저가 사용하지 않는 서비스는 의미가 없기 때문이죠.&nbsp;</p><p>크롬에서 개발하다가 익스프롤러로 넘어가니 ajax 가 깨지는 문제가 발생했습니다.&nbsp;<br>크롬에서는 이상 없이 되는데 확인해 보니&nbsp;<span style="background-color: rgb(255, 255, 255);"><br></span><span style="background-color: rgb(255, 231, 156);">한글을 파라미터로 보낼 때 인코딩을 하지 않고 보내서</span> 오류가 나더라구요.<br>jquery 문제인줄 알았는데 살펴보니 제대로 값은 찍는데,<span style="background-color: rgb(255, 231, 156);"> ajax 파라미터로 넘어 갈때만 오류가 나더라구요.&nbsp;</span></p><p><br></p><p>- 기본적인 ajax 사용법 &nbsp;-</p><div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(170, 170, 170); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%">$.ajax({</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;type:<span style="color:#ffd500">"GET"</span>,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;url:url,</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;data:params,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;success:<span style="color:#ff3399">function</span>(args){</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4be6fa">alert</span>(args);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;error:<span style="color:#ff3399">function</span>(e){</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4be6fa">alert</span>(e.responseText);</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">});&nbsp;</div></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(79, 79, 79); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p>원래는 위와 같이 사용합니다.&nbsp;<br>위와 같이 사용하면 Internet Explorer 에서만 오류가 나기 때문에, 아래와 같이 바꿔주면 됩니다.&nbsp;</p><p><br></p><p>- Internet Explorer 호환되는 ajax 사용법 &nbsp;-<br></p><div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin: 0px; padding: 0px; word-break: normal; text-align: right; color: rgb(170, 170, 170); line-height: 130%;"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div></div></td><td style="padding-top: 6px; padding-bottom: 6px;"><div style="margin: 0px; padding: 0px; line-height: 130%;"><div style="padding:0 6px; white-space:pre; line-height:130%">$.ajax({</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;type:<span style="color:#ffd500">"GET"</span>,&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;url:url,</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;data:<span style="color:#4be6fa">encodeURI</span>(params),</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;success:<span style="color:#ff3399">function</span>(args){</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4be6fa">alert</span>(args);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;error:<span style="color:#ff3399">function</span>(e){</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#4be6fa">alert</span>(e.responseText);</div><div style="background-color:#303030; padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">});&nbsp;</div></div></td><td style="vertical-align: bottom; padding-right: 2px; padding-bottom: 4px;"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(79, 79, 79); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br></p><p>위와 같이 encodeURI 라는 메소드 안에 파라미터를 넣어주면 손 쉽게 해결됩니다.&nbsp;</p><p>-&gt; 실험 결과 크롬에서는 또 encodeURI 메소드를 사용하면 동작하지 않습니다.&nbsp;</p><p><br></p><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #608b4e;">// 윈도우인지 다른 브라우저인지 확인 </span></div><div>            <span style="color: #569cd6;">var</span> <span style="color: #9cdcfe;">ua</span> = <span style="color: #9cdcfe;">window</span>.<span style="color: #9cdcfe;">navigator</span>.<span style="color: #9cdcfe;">userAgent</span>;</div><div>            <span style="color: #569cd6;">var</span> <span style="color: #9cdcfe;">postData</span>;</div><div>            <span style="color: #608b4e;">// 윈도우라면 ? </span></div><div>            <span style="color: #c586c0;">if</span> (<span style="color: #9cdcfe;">ua</span>.<span style="color: #dcdcaa;">indexOf</span>(<span style="color: #ce9178;">'MSIE'</span>) &gt; <span style="color: #b5cea8;">0</span> || <span style="color: #9cdcfe;">ua</span>.<span style="color: #dcdcaa;">indexOf</span>(<span style="color: #ce9178;">'Trident'</span>) &gt; <span style="color: #b5cea8;">0</span>) {</div><div>                <span style="color: #9cdcfe;">postData</span> = <span style="color: #dcdcaa;">encodeURI</span>(<span style="color: #9cdcfe;">sendData</span>);</div><div>            } <span style="color: #c586c0;">else</span> {</div><div>                <span style="color: #9cdcfe;">postData</span> = <span style="color: #9cdcfe;">sendData</span>;</div><div>            }</div><br><div>            <span style="color: #9cdcfe;">$</span>.<span style="color: #dcdcaa;">ajax</span>({</div><div>                <span style="color: #9cdcfe;">url:</span> <span style="color: #ce9178;">"thumnailUpload.php"</span>, <span style="color: #608b4e;">// Url to which the request is send</span></div><div>                <span style="color: #9cdcfe;">type:</span> <span style="color: #ce9178;">"POST"</span>,             <span style="color: #608b4e;">// Type of request to be send, called as method</span></div><div>                <span style="color: #9cdcfe;">data:</span> <span style="color: #9cdcfe;">postData</span>, <span style="color: #608b4e;">// Data sent to server, a set of key/value pairs (i.e. form fields and values)</span></div><div>                <span style="color: #9cdcfe;">contentType:</span> <span style="color: #569cd6;">false</span>,       <span style="color: #608b4e;">// The content type used when sending data to the server.</span></div><div>                <span style="color: #9cdcfe;">cache:</span> <span style="color: #569cd6;">false</span>,     </div></div><p>위와 같이 브라우저 마다 메소드를 달리 해서 확인 해야 한다.&nbsp;</p><p><br></p><div style="text-align: center;"><br></div><div style="text-align: center;">- 출처 -&nbsp;</div><a href="http://reiphiel.tistory.com/entry/ajax-get-%ED%95%9C%EA%B8%80-%ED%8C%8C%EB%9D%BC%EB%A9%94%ED%84%B0-%EA%B9%A8%EC%A7%80%EB%8A%94-%EB%AC%B8%EC%A0%9C">http://reiphiel.tistory.com/entry/ajax-get-%ED%95%9C%EA%B8%80-%ED%8C%8C%EB%9D%BC%EB%A9%94%ED%84%B0-%EA%B9%A8%EC%A7%80%EB%8A%94-%EB%AC%B8%EC%A0%9C</a><br><p></p>
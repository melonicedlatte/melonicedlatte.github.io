---
layout : article
title: "[기초] 데이터베이스 SQL 숙지해야 할 필수 명령어"
aside:
  toc: true
tags: Database
category : Database
author: melonicedlatte
published : True
hellogohn_num : 43
key : 2017-02-16-174901
--- 

<p></p><p></p><p><u>ㅁ 알아야 할 명령어</u><br></p><p><font color="#3984c6">DESC 테이블명</font>; 테의블 정의 보기</p><p><br></p><p><font color="#3984c6">SELECT</font></p><p>SELECT * FROM 테이블명 WHERE 필드='조건' AND 필드2='조건2'</p><p>SELECT 필드1, 필드2, 필드3 FROM 테이블명</p><p>SELECT * FROM TAB; 존재하는 모든 테이블 보기</p><p>SELECT DISTINCT 필드1 FROM 테이블명; 중복제거하기</p><p>SELECT 필드1 FROM 테이블 WHERE 필드2 BETWEEN 00 AND 00; //00부터 00사이에서</p><p>SELECT 필드1 FROM 테이블 WHERE 필드2 IN (00, 00); //00과 00중에서</p><p>SELECT 필드1 FROM 테이블 WHERE 필드2 LIKE '%단어%';</p><p>SELECT 필드1 FROM 테이블 WHERE 필드2 IS NULL; or NoT IS NULL</p><p><br></p><p><font color="#3984c6">UPDATE</font></p><p>UPDATE 테이블명 SET 필드='값', 필드2='값', 필드3='값' WHERE 필드 LIKE '조건'</p><p><br></p><p><font color="#3984c6">INSERT</font></p><p>INSERT INTO 테이블명(필드1, 필드2) VALUES ('값', '값' );</p><p>비교연산자 : &gt;, &gt;=, &lt;, &lt;=, =, &lt;&gt;(not equal)</p><p><br></p><p><font color="#3984c6">DROP</font>&nbsp;TABLE 테이블명;</p><p><br></p><p><font color="#3984c6">CREATE</font>&nbsp;TABLE 테이블명 (</p><p>&nbsp; &nbsp; &nbsp; 필드명 타입 조건,</p><p>&nbsp; &nbsp; &nbsp; id varchar2(15) primary key,</p><p>&nbsp; &nbsp; &nbsp; pass varchar(15) not null,</p><p>&nbsp; &nbsp; &nbsp; no number(5)</p><p></p><p>)</p><p><br></p><p><font color="#3984c6">Null값 처리하기</font>&nbsp;: SELECT isNULL(필드, '0') FROM 테이블<br></p><p><font color="#3984c6">방금 인서트한 자동증가값 ID 가져오기</font>&nbsp;: SELECT @@IDENTITY (현재 세션에서만 사용가능)</p><p><font color="#3984c6">현재 테이블의 가장큰 큰큰값 가져오기</font>&nbsp;: SELECT IDENT_CURRENT('테이블명')</p><p><font color="#3984c6">수행된 SQL문에 의해 영향받은 행의 수</font>&nbsp;: SELECT @@ROWCOUNT</p><p><br></p><p><font color="#3984c6">테이블 정보보기</font>&nbsp;: EXEC sp_help 테이블</p><p><font color="#3984c6">컬럼 정보보기</font>&nbsp;: EXEC sp_columns 테이블</p><p><font color="#3984c6">주석</font>&nbsp;: -- or /* */</p><p><font color="#3984c6">변수의 선언</font>&nbsp;: DECLARE @변수명 자료형, @변수명 자료형</p><p><font color="#3984c6">변수 할당</font>&nbsp;: SET @변수명 = 값</p><p><font color="#3984c6">변수값 가져오기</font>&nbsp;: SELECT @변수명</p><p><font color="#3984c6">일부분만 가져오기</font>&nbsp;: SELECT TOP 5 컬럼 FROM 테이블</p><p><br></p><p><font color="#3984c6">범위정하기 :&nbsp;</font>SELECT 컬럼 FROM 테이블 WHERE 컬럼 BETWEEN 10 AND 20</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SELECT 컬럼 FROM 테이블 WHERE 컬럼 IN ('aaa', 'bbb', 'ccc')</p><p><font color="#3984c6">패턴매칭</font>&nbsp;: SELECT 컬럼 FROM 테이블 WHERE 컬럼 LIKE '%제목%"</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_ : 어떤것이든 한 문자</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;% : 없거나 아무 글자오거나</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[] : []안에 있는 글자들 - [b-f]</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[^] : ^다름에 있는 글자를 제외한 다른 것</p><p><font color="#3984c6">중복제거</font>&nbsp;: SELECT DISTINCT 컬럼 FROM 테이블</p><p><br></p><p><font color="#3984c6">GROUP BY</font>&nbsp;: SELECT 컬럼1, sum(컬럼2) FROM 테이블 WHERE 조건 GROUP BY 컬럼1 HAVING sum(컬럼2) &gt;= 30</p><p>(계산함수가 반드시 있어야 한다, GROUP BY ALL을 사용하면 WHERE제외된것 도 포함)</p><p><font color="#3984c6">이너조인</font>&nbsp;: SELECT 컬럼 FROM 테이블 INNER JOIN 테이블 ON 컬럼=컬럼</p><p><font color="#3984c6">아웃터조인</font>&nbsp;: SELECT 컬럼 FROM 테이블 LEFT OUTER JOIN 테이블 ON 컬럼=컬럼</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (어느한쪽의 데이터를 모두 가져온다.)</p><p><br></p><p><font color="#3984c6">컬럼 추가</font>&nbsp;: ALTER TABLE 테이블명 ADD 새컬럼 VARCHAR(10) NULL</p><p><font color="#3984c6">컬럼 변경</font>&nbsp;: ALTER TABLE 테이블명 ALTER COLUMN 컬럼 VARCHAR(10) NULL</p><p><font color="#3984c6">컬럼 삭제</font>&nbsp;: ALTER TABLE 테이블병 DROP COLUMN 컬럼</p><p><br></p><p><font color="#3984c6">삭제</font>&nbsp;: DELETE FROM 테이블명 WHERE 조건</p><p><font color="#3984c6">업데이트</font>&nbsp;: UPDATE 테이블 SET 컬럼 = 값 WHRER 조건</p><p><font color="#3984c6">트랜잭션</font>&nbsp;: BEGIN TRAN</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ROLLBACK</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;COMMIT</p><p><font color="#3984c6">UNION</font> : SELECT 컬럼1, 컬럼2 FROM 테이블</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UNION</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SELECT 컬럼1, 컬럼2 FROM 테이블</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (UNION은 컬럼의 자료형과 순서가 맞아야 한다. 중복데이터는 제거되며 UNION ALL을 하면 중복데이터도 가져온다.)</p><p><span style="background-color: rgb(255, 255, 255);">↑&nbsp;<font color="#3984c6">두 개의 쿼리 결과를 합쳐 주는 역할을 한다.&nbsp;</font></span></p><p><span style="background-color: rgb(255, 255, 255);"><font color="#3984c6"><br></font></span></p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);">IN</font> :&nbsp;<span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: mediumblue;">SELECT</span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;">&nbsp;*&nbsp;</span><span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: mediumblue;">FROM</span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;">&nbsp;Customers</span></p><span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: red;"></span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;"></span><span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: mediumblue;">WHERE</span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;">&nbsp;City&nbsp;</span><span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: mediumblue;">IN</span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;">&nbsp;(</span><span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: brown;">'Paris'</span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;">,</span><span style="box-sizing: inherit; font-family: Consolas, &quot;courier new&quot;; font-size: 16px; color: brown;">'London'</span><span style="font-family: Consolas, &quot;courier new&quot;; font-size: 16px;">); 와 같은 형태로 사용 가능&nbsp;</span><p></p><p></p><p></p><p></p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);">EXISTS</font> : SELECT 컬럼1 FROM 테이블 &nbsp;WHERE EXISTS ( SELECT * FROM 테이블 WHERE 조건 )</p><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (EXISTS는 하위쿼리가 어떤 결과라도 돌려지면 참)</p><p><br></p><p></p><p><font color="#3984c6">커서생성 </font>: DECLARE 커서이름 CURSOR FOR SELECT 컬럼명 FROM 테이블이름</p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);">커서열기 </font>: OPEN 커서이름</p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);">커서닫기 </font>: CLOSE 커서이름</p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);">커서해제 </font>: DEALLOCATE 커서이름</p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);"><u>커서로부터</u> 행을 가져오거나 검색한다</font> :</p><p>&nbsp; &nbsp; &nbsp; &nbsp;FETCH<br></p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [[NEXT | PRIOR | FIRST | LAST | ABSOLUTE {n | @nvar} |<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RELATIVE {n | @nvar}]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FROM] cursor_name<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [INTO @variable_name1, @variable_name2,...]</p><p>&nbsp; &nbsp; &nbsp; &nbsp; - SCROLL 옵션이 지정되지 않은 경우에는 NEXT만이 가능하다. &nbsp;&nbsp;</p><p><font color="#3984c6" style="background-color: rgb(255, 255, 255);">@@FETCH_STATUS</font> = 0 :&nbsp;행을 에러없이 뽑았다면, @@FETCH_STATUS는 0을 반환<br></p><p><br></p><p><br></p><p><br></p><p>↓ MsSql 명령어&nbsp;</p><p><font color="#3984c6">begin tran</font>&nbsp;: 트랜잭션을 시작함 (MS-SQL 의 명령어인데 다른 언어는 확인해보야아 한다. )&nbsp;</p><p><font color="#3984c6">rollback tran</font>&nbsp;: 수정이 잘못되었으면 다시 돌림</p><p><font color="#3984c6">commit tran</font>&nbsp;: 작업 완료 승인. 이후에는 돌이킬 수 없다.&nbsp;</p><p><br></p><p><u>ㅁ 추가로 숙지해야 할 사항 및 공부해야 할 것&nbsp;</u></p><p>- SELECT에 왠만하면 * 는 사용하지 않는다.</p><p>- WHERE절에서 연산자의 왼쪽은 가동하지 않는다. 컬럼을 가공하면 색인을 사용할 수 없다.</p><p>&nbsp; &nbsp;!&nbsp;<u>WHERE 컬럼 * 3 &lt; 10</u>&nbsp;말고&nbsp;<u>WHERE 컬럼 &lt; 10 / 3</u>&nbsp;을 사용하자</p><p></p><div><br></div><div>★ 커서의 사용</div><div><div>▷커서는 꼭 필요한 경우에만 사용하는 것이 좋다.</div><div>▷커서를 사용하는 것이 좋은 경우</div><div>&nbsp; &nbsp; &nbsp; &nbsp; - 많은 결과 집합 상에서 리스트 박스 등을 채울 때</div><div>&nbsp; &nbsp; &nbsp; &nbsp; - 결과 집합을 예상할 수 없거나 클 가능성이 있는 응용 프로그램</div><div>&nbsp; &nbsp; &nbsp; &nbsp; - 하나의 트랜젝션이나 연결에서 여러 개의 결과 집합을 필요로 하는 경우</div><div>&nbsp;</div><div>▷커서를 사용하지 않아야 하는 경우</div><div>&nbsp; &nbsp; &nbsp; &nbsp; - 전체 결과 집합을 검색하는 배치 작업을 수행하는 경우</div><div>&nbsp; &nbsp; &nbsp; &nbsp; - 클라이언트 상에 캐시될 수 있는 정도의 작은 결과 집합을 검색하는 경우</div><div>&nbsp; &nbsp; &nbsp; &nbsp; - 저장 프로시져에서 해당 집합을 순차적으로 처리하기 위해</div></div><p></p><div>DEALLOCATE , NOCOUNT, TRAN, GO, BEGIN, TRY, CATCH, IF 등등</div><div><br></div><div><br></div><div style="text-align: center; ">- 출처 -&nbsp;</div><div style="text-align: center; "><br></div><div style="text-align: center; "><a href="https://blog.outsider.ne.kr/22">https://blog.outsider.ne.kr/22</a></div><div style="text-align: center; "><a href="https://www.w3schools.com/sql/sql_in.asp">https://www.w3schools.com/sql/sql_in.asp</a><a href="https://www.w3schools.com/sql/sql_in.asp"></a></div><div style="text-align: center; "><a href="http://www.sqler.com/126047">http://www.sqler.com/126047</a></div><p></p><p></p>